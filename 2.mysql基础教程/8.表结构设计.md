以pair表为例：
Q1: 如何设计一张表？ 

设计一张表需要遵循以下步骤：

1. **明确业务需求**
   - 确定表的用途和存储的数据类型
   - 例如：pair表用于存储DEX交易对信息，包括代币地址、流动性、价格等

2. **识别核心实体和属性**
   - 识别主要实体（如交易对）
   - 列出所有需要存储的属性
   - 例如：交易对地址、基础代币、代币符号、流动性、价格等

3. **选择合适的数据类型**
   - 根据数据特征选择合适的数据类型
   - 例如：地址用varchar(50)，金额用decimal(64,18)，状态用tinyint

4. **设计主键和唯一约束**
   - 主键：通常使用自增bigint（如id字段）
   - 唯一约束：确保业务唯一性（如chain_id + address组合）

5. **设计索引**
   - 为常用查询字段创建索引
   - 例如：token_address、token_symbol、block_time等

6. **添加元数据字段**
   - created_at：记录创建时间
   - updated_at：记录更新时间
   - deleted_at：软删除标记（可选）

7. **设置默认值和约束**
   - 为字段设置合理的默认值
   - 添加NOT NULL约束保证数据完整性

Q2: 表结构设计最佳实践？

基于pair表的实际案例，以下是表结构设计的最佳实践：

1. **命名规范**
   - 表名使用小写，单词间用下划线分隔（如`pair`）
   - 字段名清晰表达含义（如`base_token_address`、`token_price`）
   - 使用有意义的注释说明字段用途

2. **主键设计**
   ```sql
   `id` bigint NOT NULL AUTO_INCREMENT
   ```
   - 使用自增bigint作为主键，性能好且唯一性强
   - 避免使用业务字段作为主键

3. **唯一性约束**
   ```sql
   UNIQUE KEY `chain_id_address_index` (`chain_id`,`address`)
   ```
   - 使用组合唯一索引保证业务唯一性
   - 多链场景下，chain_id + address组合唯一

4. **数据类型选择**
   - **地址类**：`varchar(50)` - 足够存储区块链地址
   - **金额类**：`decimal(64,18)` - 高精度，适合代币金额
   - **状态类**：`tinyint(1)` - 布尔值或小范围枚举
   - **时间类**：`timestamp` - 自动处理时区
   - **大整数**：`bigint` - 存储区块高度、slot等

5. **索引设计原则**
   ```sql
   KEY `token_address_index` (`token_address`)
   KEY `block_time_index` (`block_time`)
   KEY `pump_status_index` (`pump_status`)
   ```
   - 为高频查询字段创建索引
   - 为排序字段创建索引（如block_time）
   - 为过滤条件字段创建索引（如pump_status）
   - 避免过度索引，影响写入性能

6. **默认值设置**
   - 数值类型设置合理的默认值（如0）
   - 字符串类型设置空字符串默认值
   - 时间字段使用CURRENT_TIMESTAMP自动填充

7. **软删除设计**
   ```sql
   `deleted_at` timestamp NULL DEFAULT NULL
   ```
   - 使用deleted_at实现软删除
   - 查询时过滤deleted_at IS NULL的记录

8. **时间戳字段**
   ```sql
   `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
   `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
   ```
   - created_at：记录创建时间，自动填充
   - updated_at：记录更新时间，自动更新

9. **字段分组和注释**
   - 相关字段分组（如所有pump相关字段放在一起）
   - 每个字段添加COMMENT说明用途
   - 表级别添加COMMENT说明表的用途

10. **字符集和排序规则**
    ```sql
    ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci
    ```
    - 使用utf8mb4支持emoji和特殊字符
    - 使用InnoDB引擎支持事务和外键

11. **字段顺序**
    - 主键字段放在最前面
    - 业务核心字段紧随其后
    - 元数据字段（时间戳、软删除）放在最后
    - 相关字段分组排列

12. **避免过度设计**
    - 不要过早优化，先满足业务需求
    - 预留扩展字段要谨慎（如pair表中的pump相关字段）
    - 定期review表结构，移除无用字段
