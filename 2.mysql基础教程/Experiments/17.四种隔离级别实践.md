这种模拟还是仅仅概念层面的模拟。 
真实的效果还是要去结合具体的业务来理解。 
所以在日常的工作中，一定要多关注记录遇到的各种各样的线上问题，做好平时的积累。 

Q1: Read uncommitted 

目标：设计实验，来模拟读未提交，掌握相关特性。 
实验环境：navicat
实现流程：【初步构想】，设计实验表，并提供必要的测试数据，然后模拟读未提交流程。
主要特性：脏读

实验相关命令：

CREATE TABLE account (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50),
    balance DECIMAL(10, 2)
);


INSERT INTO account (name, balance) VALUES ('Alice', 1000.00);
INSERT INTO account (name, balance) VALUES ('Bob', 1500.00);

SELECT @@session.transaction_isolation;

SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;

SELECT @@session.transaction_isolation;

BEGIN;
UPDATE account SET balance = 950.00 WHERE name = 'Alice';


BEGIN;
SELECT balance FROM account WHERE name = 'Alice';

commit



Q2: 不可重复读

SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED;

SELECT @@session.transaction_isolation;

BEGIN;
SELECT balance FROM account WHERE name = 'Alice'; -- 假设此时余额是 950.00
SELECT balance FROM account WHERE name = 'Alice'; -- 此时余额会变成 1100.00
COMMIT;


Q3: 幻读
SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ;

SELECT @@session.transaction_isolation;




Q4： 序列化
SET SESSION TRANSACTION ISOLATION LEVEL SERIALIZABLE;


SELECT @@session.transaction_isolation;


BEGIN;
INSERT INTO account (name, balance) VALUES ('Dan', 2000.00);
COMMIT;
