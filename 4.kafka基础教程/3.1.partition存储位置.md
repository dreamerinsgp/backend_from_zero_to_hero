# Partition 存储位置详解

## Q1: 如何查看 Partitions 的存储位置？

### 命令示例

```bash
# 查看特定 Topic 的所有 Partition 目录
ls -d /tmp/kraft-combined-logs/sol-trades-*

# 结果示例：
# /tmp/kraft-combined-logs/sol-trades-0
# /tmp/kraft-combined-logs/sol-trades-1
# /tmp/kraft-combined-logs/sol-trades-2
```

### 其他查看方法

```bash
# 方法 1：查看配置文件
cd ~/kafka/kafka_2.13-3.6.1
grep "log.dirs" config/kraft/server.properties
# 输出: log.dirs=/tmp/kraft-combined-logs

# 方法 2：查看所有 Partition 目录
find /tmp/kraft-combined-logs/ -maxdepth 1 -type d -name "*-*"

# 方法 3：使用 Kafka 命令行工具查看 Topic 信息
bin/kafka-topics.sh --describe --topic sol-trades --bootstrap-server localhost:9092
```

---

## Q2: 这里 `sol-trades-0` 的 `0` 表示什么意思？

### 答案：Partition ID（分区编号）

**`sol-trades-0` 中的 `0` 表示这是 `sol-trades` Topic 的 **Partition 0**（第一个分区）**。

### 详细说明

#### **命名规则**

Partition 目录的命名格式为：`<topic-name>-<partition-id>`

- **`sol-trades`**：Topic 名称
- **`-`**：分隔符
- **`0`**：Partition ID（分区编号）

#### **Partition ID 的特点**

1. **从 0 开始编号**：
   - Partition 0（第一个分区）
   - Partition 1（第二个分区）
   - Partition 2（第三个分区）
   - ...

2. **唯一标识**：
   - 每个 Partition ID 在同一个 Topic 中是唯一的
   - 不同 Topic 可以有相同的 Partition ID（如 `sol-trades-0` 和 `eth-trades-0`）

3. **示例**：
   ```
   sol-trades-0  ← Partition 0（第一个分区）
   sol-trades-1  ← Partition 1（第二个分区）
   sol-trades-2  ← Partition 2（第三个分区）
   ```

#### **为什么从 0 开始？**

- **编程习惯**：大多数编程语言中数组和列表从 0 开始索引
- **简化计算**：Hash 分区计算时，`hash(key) % partitionCount` 的结果自然从 0 开始
- **一致性**：与 Kafka 内部实现保持一致

---

